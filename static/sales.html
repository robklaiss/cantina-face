<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cantina Face - Ventas</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body class="sales-view">
    <div id="status-bar">
        <div class="status-left">
            <img src="/siloe-logo-blanco.png" alt="Cantina Face" class="status-logo" />
            <span><strong>Vista:</strong> Ventas</span>
            <span id="active-student-status">Cuenta: <span id="active-student-name">Ninguna</span></span>
        </div>
        <div class="status-right">
            <a href="/" class="secondary-btn">⬅️ Volver a cámara</a>
            <button id="sale-clear-btn" class="secondary-btn">Limpiar</button>
        </div>
    </div>

    <div id="main-container" class="sales-layout">
        <div id="sales-left">
            <div id="search-zone">
                <input type="text" id="search-input" placeholder="Buscar producto..." autocomplete="off" title="F2 para enfocar">
                <div id="search-results"></div>
            </div>

            <div id="products-zone">
                <div id="products-grid">
                    <button class="product-btn" disabled>1</button>
                    <button class="product-btn" disabled>2</button>
                    <button class="product-btn" disabled>3</button>
                    <button class="product-btn" disabled>4</button>
                    <button class="product-btn" disabled>5</button>
                    <button class="product-btn" disabled>6</button>
                    <button class="product-btn" disabled>7</button>
                    <button class="product-btn" disabled>8</button>
                    <button class="product-btn" disabled>9</button>
                </div>
            </div>

            <div id="scheduled-orders-panel" class="panel scheduled-panel hidden">
                <div class="panel-header">
                    <h4>Pedidos programados</h4>
                    <p>Listo para despachar</p>
                </div>
                <div id="scheduled-orders-list" class="scheduled-list">
                    <p class="muted">Seleccioná un alumno para ver pedidos.</p>
                </div>
            </div>

            <div id="dispatch-panel" class="dispatch-panel hidden">
                <div class="panel-header">
                    <h4>Productos entregados</h4>
                    <p>Marca cada producto cuando lo entregues</p>
                </div>
                <div id="dispatch-list" class="dispatch-list">
                    <p class="muted">Sin productos cargados</p>
                </div>
                <div class="dispatch-actions">
                    <button id="dispatch-add-btn" class="primary-btn">Agregar producto</button>
                    <button id="dispatch-clear-btn" class="secondary-btn">¡Listo!</button>
                </div>
            </div>
        </div>

        <div id="sales-right">
            <div id="student-zone">
                <div id="student-card" class="hidden">
                    <img id="student-photo" src="/default-avatar.png" alt="Foto del alumno">
                    <div id="student-details">
                        <h4 id="student-name">-</h4>
                        <p><strong>Grado:</strong> <span id="student-grade">-</span></p>
                        <p><strong>Saldo:</strong> <span id="student-balance">0</span> <span id="currency">Gs.</span></p>
                    </div>
                </div>
                <div id="no-student" class="center-text">
                    Seleccioná un alumno para comenzar
                </div>
            </div>

            <div id="product-info">
                <h4>Carrito</h4>
                <div id="cart-items"></div>
                <p class="cart-total-row"><strong>Total:</strong> <span id="cart-total">0</span> <span id="currency">Gs.</span></p>
                <div id="manual-charge" class="hidden">
                    <button id="charge-btn" title="Enter">Cobrar de saldo</button>
                    <button id="manual-charge-btn" class="secondary-btn">Cobrar manualmente</button>
                </div>
            </div>
        </div>
    </div>

    <div id="notifications"></div>

    <div id="manual-charge-modal" class="manual-modal hidden">
        <div class="manual-modal-content">
            <h3>Cobro manual</h3>
            <p>Total a cobrar: <strong id="manual-total">0 Gs.</strong></p>
            <div class="cash-options" id="cash-options"></div>
            <button id="manual-exact-btn" class="secondary-btn">Usar monto exacto</button>
            <label for="manual-cash-input">Monto entregado (Gs.)</label>
            <input type="number" id="manual-cash-input" min="0" step="500" placeholder="0" />
            <p>Vuelto: <strong id="manual-change-output">0 Gs.</strong></p>
            <div class="modal-actions">
                <button id="manual-charge-confirm" class="primary-btn">Confirmar cobro</button>
                <button id="manual-charge-cancel" class="secondary-btn">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="/sales.js"></script>
</body>
</html>
